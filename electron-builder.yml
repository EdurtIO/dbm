appId: 'io.edurt.dbm'
artifactName: ${name}-${version}-${os}-${arch}.${ext}
productName: 'dbm'
publish: { provider: github, releaseType: draft, vPrefixedTagName: true }
forceCodeSigning: false

releaseInfo:
  releaseNotes: |
    #### General

    ---

    - Add multiple editor theme
    - Redesign data source deletion prompt
    - Support metadata management to jump to the query page
    - Delete the domain name incubator tag
    - Add some trend charts and project badges
    - Fix that the editor cannot boot when it automatically prompts for multiple options, and the option is highlighted
    - Compressed and packaged binary software package

    #### Security

    ---

    - Upgrade angular to `14.0.1`
    - Upgrade electron to `16.2.0`

    #### ClickHouse

    ---

    - Support the currently stopped running process

    #### Trino & Presto

    ---

    - Supports query result time and total number of data [issues-158](https://github.com/EdurtIO/dbm/issues/158)

    #### MySQL

    ---

    - Support quick query operation [issues-180](https://github.com/EdurtIO/dbm/issues/180)
    - Supports query result time and total number of data [issues-180](https://github.com/EdurtIO/dbm/issues/180)
    - Supports monitor → processors [issues-180](https://github.com/EdurtIO/dbm/issues/180)
    - Supports monitor → connection [issues-180](https://github.com/EdurtIO/dbm/issues/180)
    - Supports metadata management of disk usage [issues-180](https://github.com/EdurtIO/dbm/issues/180)
    - Support metadata management menu server related operations [issues-180](https://github.com/EdurtIO/dbm/issues/180)

    #### PostgreSQL

    ---

    - Support PostgreSQL (custom query and data source management)
    - Add PostgreSQL docs

directories:
  output: ./release
files:
#  - '**/*'
  - '!**/*.ts'
  - '!scripts'
  - '!src'
  - '!node_modules'
  - '!docs'
  - '!release'
  - '!.github'
  - '!.vscode'
  - 'dist'
compression: normal
asar: false

mac:
  icon: ./src/shared/assets/icons
  # category: public.app-category.productivity
  # darkModeSupport: true
  # target:
  #   - { target: dmg }

dmg:
  icon: ./src/shared/assets/icons
  iconSize: 128
  contents:
    - { x: 380, y: 240, type: link, path: /Applications }
    - { x: 122, y: 240, type: file }

linux:
  icon: ./src/shared/assets/icons/favicon.png
  target:
    - { target: AppImage }

win:
  artifactName: ${name}-${version}-windows-${arch}.${ext}
  icon: ./src/shared/assets/icons/favicon.ico
  target:
    - { target: nsis }

nsis:
  artifactName: ${name}-${version}-windows-${arch}-nsis-installer.${ext}
  oneClick: false
  perMachine: false
